<app-header color="light" tituloPagina="Cupón"></app-header>

<ion-content padding fullscreen>

    <form (ngSubmit)="guardar( formulario )" #formulario="ngForm">
        <!------------ Grilla ------------>
        <ion-grid fixed>

            <!-- ------ Columna 1 --------- -->
            <ion-row>
                <ion-col size="12" size-md="12" size-sm="12" size-xs="12">

                    <!-- ------------------Encabezado del registro ---------------- -->
                    <ion-card color="light">
                        <ion-item color="medium">
                            <ion-icon name="people-circle-outline" slot="start"></ion-icon>
                            <ion-label>{{ contratacion.nombreInteresadoCont }}</ion-label>

                            <ion-button (click)="contratacionMore( $event )" expand="block" slot="end">
                                <ion-icon slot="icon-only" name="ellipsis-vertical-outline"></ion-icon>
                            </ion-button>

                        </ion-item>

                        <ion-card-content>
                            Consulta sobre una Contratación, realizada en el Sitio Web.
                        </ion-card-content>
                    </ion-card>

                    <!-- ------------------Formulario de modificacion del registro ---------------- -->
                    <ion-card>
                        <!-- SFAD{{ producto.descripCortaProd}} {{ producto.cotizadorTipo}} -->
                        <ion-list>

                            <ion-item color="light">
                                <ion-label position="floating">* NOMBRE COMPLETO</ion-label>
                                <ion-input type="text" name="nombreInteresadoCont" [(ngModel)]="contratacion.nombreInteresadoCont" required></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">* EMAIL</ion-label>
                                <ion-input type="text" name="emailInteresadoCont" [(ngModel)]="contratacion.emailInteresadoCont" required></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">TELEFONO / CELULAR</ion-label>
                                <ion-input type="text" name="telefonoInteresadoCont" [(ngModel)]="contratacion.telefonoInteresadoCont"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                              <ion-label position="floating">DNI / CUIL </ion-label>
                              <ion-input type="text" name="dniCuilInteresadoCont" [(ngModel)]="contratacion.dniCuilInteresadoCont"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                              <ion-label position="floating">ACLARACIONES DEL INTERESADO</ion-label>
                              <ion-input type="text" name="aclaracionesInteresadoCont" [(ngModel)]="contratacion.aclaracionesInteresadoCont"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">FECHA SOLICITADO</ion-label>
                                <ion-input type="datetime" name="fechaSolicitudCont" [(ngModel)]="contratacion.fechaSolicitudCont"></ion-input>
                            </ion-item>

                            <!-- Compañia -->

                            <ion-item-divider>
                                <ion-label>

                                </ion-label>
                            </ion-item-divider>

                            <ion-item-divider>
                                <ion-label>
                                    <strong>
                                        COMPAÑIA ASIGNADA
                                    </strong>
                                </ion-label>
                            </ion-item-divider>  

                            <ion-item>
                                <ion-label position="floating">Id de COMPAÑIA (a enviar el email)</ion-label>
                                <ion-input type="string" name="idCompaniaProd" [(ngModel)]="contratacion.idCompaniaProd"></ion-input>

                                <ion-button [routerLink]="['/compania', contratacion.idCompaniaProd ]" expand="block" fill="clear" shape="round">
                                    <ion-icon slot="icon-only" name="arrow-forward-outline"></ion-icon>
                                    Ir a la Compañia
                                </ion-button>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">* NOMBRE COMPAÑIA</ion-label>
                                <ion-input type="text" name="nombreCompania" [(ngModel)]="contratacion.nombreCompania" required></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">CONTACTO EN EMISIONES</ion-label>
                                <ion-input type="text" name="contactosEmisionesCompania" [(ngModel)]="contratacion.contactosEmisionesCompania"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">EMAILS PARA EMISIONES</ion-label>
                                <ion-input type="text" name="emailsEmisionesCompania" [(ngModel)]="contratacion.emailsEmisionesCompania"></ion-input>
                            </ion-item>

                            <ion-item-divider>
                                <ion-label>

                                </ion-label>
                            </ion-item-divider>                            

                            <ion-item-divider>
                                <ion-label>
                                    <strong>
                                        DATOS DE CONFIGURACION (AL MOMENTO DE LA SOLICUTUD)
                                    </strong>
                                </ion-label>
                            </ion-item-divider>  

                            <ion-item  color="light">
                                <ion-label position="stacked">ENVIA EMAIL A COMPAÑIAS?</ion-label>
                                <ion-input readonly color="secondary" type="text" name="enviaEmailsCompaniasConfig" [(ngModel)]="contratacion.enviaEmailsCompaniasConfig"></ion-input>
                            </ion-item> 
                              
                              <ion-item  color="light">
                                <ion-label position="stacked">ENVIA EMAIL A AREAS INTERNAS?</ion-label>
                                <ion-input readonly color="secondary" type="text" name="enviaEmailsAreasConfig" [(ngModel)]="contratacion.enviaEmailsAreasConfig"></ion-input>
                              </ion-item>                            
   
                              <ion-item color="light">
                                <ion-label position="floating">EMAILS AREA PRODUCCION</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailsAreaProduccionConfig" [(ngModel)]="contratacion.emailsAreaProduccionConfig"></ion-input>
                              </ion-item>
    
                              <ion-item  color="light">
                                  <ion-label position="stacked">ENVIA EMAIL DE PRUEBAS?</ion-label>
                                  <ion-input readonly color="secondary" type="text" name="enviaEmailsPruebasConfig" [(ngModel)]="contratacion.enviaEmailsPruebasConfig"></ion-input>
                              </ion-item>
  
                              <ion-item color="light">
                                <ion-label position="floating">EMAILS PARA PRUEBAS</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailsPruebasConfig" [(ngModel)]="contratacion.emailsPruebasConfig"></ion-input>
                              </ion-item>

                              <ion-item-divider>
                                <ion-label>

                                </ion-label>
                            </ion-item-divider>                            

                            <ion-item-divider>
                                <ion-label>
                                    <strong>
                                        OTROS DATOS CALCULADOS
                                    </strong>
                                </ion-label>
                            </ion-item-divider>  

                            <ion-item color="light">
                                <ion-label position="floating">EMAIL AVISO REMITENTE</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailAvisoFrom" [(ngModel)]="contratacion.emailAvisoFrom"></ion-input>
                            </ion-item>
                                
                            <ion-item color="light">
                                <ion-label position="floating">EMAIL AVISO DESTINATARIOS</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailAvisoTo" [(ngModel)]="contratacion.emailAvisoTo"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">EMAIL AVISO COPIADOS</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailAvisoCc" [(ngModel)]="contratacion.emailAvisoCc"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">EMAIL COMPAÑIAS REMITENTE</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailCompaniaFrom" [(ngModel)]="contratacion.emailCompaniaFrom"></ion-input>
                            </ion-item>
                                
                            <ion-item color="light">
                                <ion-label position="floating">EMAIL COMPAÑIAS DESTINATARIOS</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailCompaniaTo" [(ngModel)]="contratacion.emailCompaniaTo"></ion-input>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">EMAIL COMPAÑIAS COPIADOS</ion-label>
                                <ion-input readonly color="secondary" type="text" name="emailCompaniaCc" [(ngModel)]="contratacion.emailCompaniaCc"></ion-input>
                            </ion-item>



                            <!-- Datos internos -->

                            <ion-item-divider>
                                <ion-label>

                                </ion-label>
                            </ion-item-divider>

                            <ion-item-divider>
                                <ion-label>
                                    <strong>
                                        DATOS INTERNOS
                                    </strong>
                                </ion-label>
                            </ion-item-divider>  

                            <ion-item  color="light">
                                <ion-label position="stacked">ESTADO ACTUAL</ion-label>
                                <ion-select interface="popover" placeholder="Indique uno" name="estadoInternoCont" [(ngModel)]="contratacion.estadoInternoCont">
                                    <ion-select-option value="A revisar">A revisar</ion-select-option>
                                    <ion-select-option value="Revisado">Revisado</ion-select-option>
                                </ion-select>
                            </ion-item>

                            <ion-item color="light">
                                <ion-label position="floating">Notas internas</ion-label>
                                <ion-input type="text" name="notasInternasCont" [(ngModel)]="contratacion.notasInternasCont"></ion-input>
                            </ion-item>
                            
                            <!-- ver si uso type string o text, falta texto largo y numero para orden -->

                        </ion-list>

                        <ion-button color="secondary" type="submit" expand="full" [disabled]="formulario.invalid">
                            Guardar
                        </ion-button>


                        <!-- Mensaje validando formulario  -->

                        <ion-note *ngIf="formulario.valid" color="success">&nbsp; Datos validos, recuerde guardar cambios.<br></ion-note>
                        <ion-note *ngIf="!formulario.valid" color="danger">&nbsp; Datos incompletos o no validos, revise.<br></ion-note>


                        <!-- Notas finales del formulario  -->
                        <ion-card-content>
                            <h6>
                                Tips:
                            </h6>
                            <h6>
                                (*) Datos obligatorios.
                            </h6>

                        </ion-card-content>

                    </ion-card>

                </ion-col>
            </ion-row>

        </ion-grid>

    </form>


    <!------------ PIE DE PAGINA NO FIJO  ------------------------------------>
    <app-footer2></app-footer2>   
        
</ion-content>

<!-- ------ PIE DE PAGINA FIJO ---------------------  -->
<!-- no andan botones end y top --> 
<app-footer></app-footer>

